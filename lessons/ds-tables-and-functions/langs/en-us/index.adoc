= Connecting Tables and Functions

++++
<style>
.small-table {max-width: 75%}
</style>
++++

@lesson-description{Students describe Tables with functions, and generate Tables from functions.}

[@lesson-intro-table]
|===
@prereqs-stds{ds-defining-functions}
| Lesson Goals
| Students will be able to...

* define linear functions to match a given table
* identify whether or not a function is linear

| Student-facing Lesson Goals
|

* Given a table showing a linear relationship, I can define a function to match
* Given a function, I can tell whether or not it is linear

| Materials
|[.materials-links]
* Lesson Slides
* @link{https://code.pyret.org/editor#share=XYZ, Graphing Starter File}
@material-links

| Preparation
|
* Make sure all materials have been gathered
* Decide how students will be grouped in pairs
* Computer for each student (or pair), with access to the internet
* link:{pathwayrootdir}/workbook/workbook.pdf[Student workbook], and something to write with
* All students should log into @link{https://code.pyret.org, CPO} and open the "Graphing Starter File" they saved from the prior lesson. If they don't have the file, they can @link{https://code.pyret.org/editor#share=XYZ, open a new one}

@include{xtra/lang-prereq.adoc}
|===

== Summarizing Tables with Functions @duration{20 minutes}

=== Overview
Students explore linear functions as a way of _summarizing_ the information in Tables.

=== Launch
Take a look at the following Table:

[.pyret-table.small-table,cols="^.^1,^.^1",options="header"]
|===
| x | y
| 0 | 0
| 1 | 1
| 2 | 4
| 3 | 6
|===

* What do you *Notice* about this table?
* What do you *Wonder*?

(After Notice and Wonder, ask specific questions...)

* What are the values in the @vocab{header row}?
* Which column is the @vocab{identifier column}?
* What do you think the values in the _next_ row will be?

For tables like this - where the rows follow a precise pattern - a @vocab{function} can be used to summarize the entire Table! For this table in particular, that function would be @math{f(x) = 2x}. We can also write this function in Pyret:


```
fun f(x): 2 * x end
```

If we apply the function to the x-value in each Row, it produces the y-value! Instead of writing endless rows repeating the pattern, we can just declare the pattern itself using the function.

=== Investigate
[.lesson-instruction]
- Complete @exercise-link{match-functions-tables.adoc}.
- Complete @exercise-link{define-functions-tables.adoc}.

Just like tables and graphs, the symbols that make up a function can reveal whether or not it is linear, and what the slope is. You may remember that graphs don't have a "starting value", since the line goes on forever in both directions. Instead, they refer to the @vocab{y-intercept} - where the line crosses the y-axis. The linear functions we define have a y-intercept as well! 

[.lesson-point]
All linear functions have a @vocab{slope} and @vocab{y-intercept}.

[.pyret-table.first-table,cols="1,1",options="header"]
|===
|@math{f(x) = -3x + 6}
|`fun f(x): (-3 * x) + 6`
|===

In the table above, we have the same function written in regular math notation (left), and in Pyret (right). Both have two terms. The one containing @math{x} (multiplying by -3) gives us the @vocab{slope} of the function. The other term, which contains only the number @math{6}, gives us the @vocab{y-intercept}.

[.lesson-instruction]
- Can you tell whether or not a function is linear? Complete @exercise-link{linear-nonlinear-bust.adoc}.
- Can you find the slope and y-intercept of a functon? Complete @exercise-link{slope-and-yintercept.adoc}.

=== Synthesize
For Tables that fit a linear pattern like this, a function can be a much shorter way of describing all the Rows! In fact, a one-line function can summarize an _infinite_ number of Rows.

== Building Tables with Functions @duration{25 minutes}

=== Overview
Students learn how to _build_ Tables with linear functions, and that not all Tables can be generated from a function.

=== Launch
We've provided a special function `make-table` that takes in four arguments:

1) a starting point
2) an ending point
3) the size of the steps between the start and end point
4) a function

It produces a __new table__ with those steps as x-coordinates and the output of the function as the y-coordinates. For example:

```
fun f(x): 2 * x end
# make a table with xs going from 0-10 in steps of 2
make-table(0, 10, 2, f)
```

will produce:
[.pyret-table,cols="^.^1,^.^1",options="header"]
|===
|  x |  y
|  0 |  0
|  2 |  4
|  4 |  8
|  6 | 12
|  8 | 16
| 10 | 20
|===

[.lesson-instruction]
* What is the @vocab{slope} of this function? The @vocab{y-intercept}?
* How could we change this code to make steps of 1, instead of 2?
* How could we change this code to make a table for the integer values between 20 and 200, skipping by 10? 
* How could we change this code to make a table for a different function altogether? 
* Open the Table and Graphs Starter File, and try defining different functions and using them to build Tables.

=== Investigate
[.lesson-instruction]
* @exercise-link{building-tables-from-functions.adoc, Match the code to the Table} it will generate.
* Can every Table be built from a function?

Any Table __constructed from a function__ will have points that precisely follow the pattern. But the opposite is not true: plenty of Tables don't follow the pattern of any function! In fact, most Tables in Data Science __don't__ follow an exact pattern! Can you tell which is which?

[.lesson-instruction]
Open @exercise-link{not-all-tables.adoc}. Which of these tables can be summarized by a function? Which ones can't?

=== Synthesize
Some things in life run like clockwork: 

* A car traveling at 50mph will take two hours to travel 50 miles
* If someone can make a bouquet of flowers every 15 minutes, you know it will take them 45 minutes to make three of them.

For these things, functions perfectly model what happens in reality. But...reality usually isn't quite so neat and tidy!

[.lesson-point]
Data Science is about making sense of life's messiness.

Outside of a math book, cars don't _actually_ move at exactly 50mph. Maybe the driver hits the gas at one point, or slows down to avoid a pothole. A worker at a flower shop may take a minute to use the bathroom! Algebraic functions can give us a good _approximation_ for how the world works, but they aren't an exact fit.

We don't use Data Science to find a perfect model for real life. We use it to find the __closest model__ we can to fit the messy data.


== Additional Exercises:

