= Diagramming Function Composition

++++
<style>
.listingblock pre {padding: 0;} 
.autonum::before { content: '('; }
.topTable tr:first-child td * { background-color: #f7f7f8; }
</style>
++++

[.topTable, cols="1,1,1", stripes="none"]
|===
a|
----
f :: Number -> Number
Consumes a number, multiplies by 3 to produce the result
----
a|
----
g :: Number -> Number
Consumes a number, adds six to produce the result
----
a|
----
h :: Number -> Number
Consumes a number, subtracts one to produce the result
----
|
@math{ f(x) = 3x }
|
@math{ g(x) = x + 6 }
|
@math{ h(x) = x - 1 }
|===

Four function compositions are written in the 1st column, represented as Circles of Evaluation. For each one, (1) translate it into the equivalent Circle for Order of Operations, (2) write expressions for _both_ versions of the Circles, and (3) evaluate them for @math{x = 4}. The first one has been completed for you.

@do{
  (define expr1 '(-  (+ (* 3 x) 6) 1))
  (define expr2 '(+ (* 3 (- x 1)) 6))
  (define expr3 '(- (* 3 (+ x 6)) 1))

  (define expr4 '(?ANS  (?ANS(?ANS ?ANS ?ANS) ?ANS) ?ANS))
  (define code2 '(?ANS (?ANS ?ANS (?ANS ?ANS ?ANS)) ?ANS))
  (define code3 '(?ANS (?ANS ?ANS (?ANS ?ANS ?ANS)) ?ANS))
}

[cols="^1,^2,^3a", options="header", stripes="none"]
|===

| Function Composition
| Order of Operations
| Translate & Evaluate

| @n  @show{(sexp->coe `(f (g (h x))))} 		
| @show{(sexp->coe `(* 3 (+ 6 (- x 1))))} 	
| 
[cols="4,5"] 
!=== 
! Composition: 			! @show{(sexp->code `(f (g (h x))))}
! Operations: 			! @show{(sexp->code `(* 3 (+ 6 (- x 1))))}
! Evaluate for x = 4 	! @math{f(g(h(4))) = 27}
!===

| @n  @show{(sexp->coe `(h (g (f x))))}
| @show{(sexp->coe expr4)}
|
[cols="4,5"] 
!=== 
! Composition: 			! @fitb{10em}{}
! Operations: 			! @fitb{10em}{} 
! Evaluate for x = 4 	!  @fitb{10em}{}
!===

| @n  @show{(sexp->coe `(g (f (h x))))}
| @show{(sexp->coe code2)} 
|
[cols="4,5"]
!=== 
! Composition: 			! @fitb{10em}{}
! Operations: 			! @fitb{10em}{} 
! Evaluate for x = 4 	! @fitb{10em}{} 
!===

| @n  @show{(sexp->coe `(h (f (g x))))}
| @show{(sexp->coe code3)}
|
[cols="4,5"]
!=== 
! Composition: 			! @fitb{10em}{} 
! Operations: 			! @fitb{10em}{} 
! Evaluate for x = 4 	! @fitb{10em}{} 
!===
|===

