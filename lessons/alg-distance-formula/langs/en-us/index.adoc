= The Distance Formula

@lesson-description{Students apply their knowledge of the Pythagorean Theorem and Circles of Evaluation to develop a function for the distance formula.}

[@lesson-intro-table]
|===
@prereqs-stds{alg-piecewise-functions}

| Lesson Goals
|Students will be able to:

* Explain how the distance formula is related to the Pythagorean theorem.
* Write a function for the distance formula.

| Student-Facing Lesson Goals
|
* I can explain how the distance formula is connected to the Pythagorean theorem.
* I can write a function that takes in 2 points and returns the distance between them.

| Materials
|

@ifproglang{wescheme}{
* Lesson slides template (@link{https://docs.google.com/presentation/d/1INT8koAGQcpUelRzGpvThViGSAVMdZYT08LHgqnQAzg/edit?usp=sharing, Google Slides})
* Sample game file - no distance lines (@link{https://www.wescheme.org/view?publicId=PJMfrSvGRl, WeScheme)}
* Sample game file - with distance lines (@link{https://www.wescheme.org/view?publicId=0bCivugY3P, WeScheme)}
}

@ifproglang{pyret}{
* @link{https://docs.google.com/presentation/d/1WVWq3JVFlq8OgpLGIUFQ9mR7DbADkgMxR8NYPhuPQN4/edit?usp=sharing, Lesson slides} (Google Slides)
* Sample game file - no distance lines (@link{https://code.pyret.org/editor#share=1g_3AqB4v6Jtq6TzcIHYNTkvlW9B6dLHS&v=882d33a, Pyret)}
* Sample game file - with distance lines (@link{https://code.pyret.org/editor#share=1y1eWn1YyDDqilj0MFqEpMy4egVh-G81W&v=882d33a, Pyret})
}

* @workbook-link{pages/NoticeAndWonder.adoc, Notice and Wonder}

* @exercise-link{pages/Distance-Multiple-Representations.pdf, Multiple Representations} (PDF)

* Design Recipe: Distance - @workbook-link{pages/distance.adoc, Original}, @workbook-link{pages/distance.adoc, Solution}

| Supplemental Resources
|
- Absolute Value (@link{https://teacher.desmos.com/activitybuilder/custom/58efa58b999d890619a5663e, Desmos })
- Absolute Value Inequality Illustrator (@link{https://www.geogebra.org/m/rq7uDucY, Geogebra })
- Absolute Value (@link{https://quizizz.com/admin/quiz/581c92bd3fa551e37a438264/absolute-value-preview, Quizizz })
- Distance Formula (@link{https://www.geogebra.org/m/DTeGM5U7, Geogebra })
- Distance Formula (@link{https://quizizz.com/admin/quiz/5876366405dad51d02b1beef/distance-formula, Quizizz })
- Pythagorean Theorem (@link{https://quizizz.com/admin/quiz/5828a9f82627ff7d77818381/pythagorean-theorem, Quizizz})
- Pythagorean Theorem (@link{https://www.geogebra.org/m/jFFERBdd#material/ZFTGX57r, Geogebra })

| Preparation
|
* Make sure all materials have been gathered
* Decide how students will be grouped in pairs

| Key Points for the Facilitator
|
* The distance formula is an excellent review of @vocab{Circles of Evaluation}. Have students work out the expression in small groups to foster discussion.
|===

[.old-materials]
For a textbook-like version of materials similar to these, you may wish to see the @link{https://www.bootstrapworld.org/materials/spring2020/courses/algebra/en-us/units/unit8/index.html, prior unit-based version}

== Warmup

Students should have their workbook, pencil, and be logged into
@ifproglang{wescheme}{ @link{https://www.wescheme.org, WeScheme     } }
@ifproglang{pyret}{    @link{https://code.pyret.org, code.pyret.org } }
on their computer.

== Distance in 1 Dimension @duration{15 minutes}

=== Overview
Students discover the need for distance calculation (first in one dimention, then in two) in videogames.

=== Launch

@ifproglang{wescheme}{
Have students open this @link{https://www.wescheme.org/view?publicId=PJMfrSvGRl, game file} and investigate. +
}
@ifproglang{pyret}{
Have students run this @link{https://code.pyret.org/editor#share=1g_3AqB4v6Jtq6TzcIHYNTkvlW9B6dLHS, game file} and investigate. +
}

{empty}

- What seems to be missing from this game?
+
_The characters aren't doing anything when they collide._

- What does it mean for characters to 'hit' one another? To collide?
+
_They have to be close enough to touch._

- How will the computer know when the characters have collided?
+
_When the coordinates of the characters are really close to each other._

[.lesson-instruction]
--
Role-Play: Ask a volunteer to help role-play two characters colliding! 

- Idenitfy a "number line" on the floor (this can be done just by pointing, or with a visual aid). 
- Make sure that you and your volunteer stand with feet as close together as possible, representing the infinitely small point that identifies your center.
- Raise your arms to form a "T shape", representing the outer edges of the characters.
- Emphasize that this represents _one dimension_ (perhaps the x- or y-axis).
- With the volunteeer, stand about 10 steps away from one another and side-step towards each other one step at a time, while asking the class, "True or False: we colliding!" __Be sure to only accept "true" and "false" as responses - not "yes" and "no"!__
- Ask the class how far apart you and your volunteer are, and then ask them how they would calculate this if you were standing on a number line and they could see the actual coordinates under your feet.
- After a few iterations, try switching places and repeating. _Point out that students always subtract the smaller number from the larger one, regardless of the character order!_
- Do this until students can clearly see it's when the two characters are 'touching' or 'overlapping' in some way - NOT when they are 'at the same point.'
--

=== Investigate
[.lesson-instruction]
Have students explore using the `line-length` function in the @vocab{Interactions area}.

[.strategy-box, cols="1", grid="none", stripes="none"]
|===
|
@span{.title}{Extension}

You can extend this `line-length` activity into a lesson on absolute value and have students program `line-length` themselves. Computing 1-dimensional distance - and absolute value - are in fact piecewise functions!
|===

[.lesson-instruction]
- What does this function _do_?
- Why does it use conditionals?

=== Synthesize
Make absolutely certain that students understand that this function _always returns the positive distance_ between two points on a number line.

What if we have points that are not on the same line? What if instead they differ by both the x- and y-coordinate? 

== Distance in 2 Dimensions @duration{30 minutes}

=== Overview
Students extend their understanding of _distance_ from one dimension to two, using a geometric proof of the Pythagorean Theorem to compute the distance between two points.

=== Launch
Bring your volunteer (or choose a different one!) back up to the front of the class, and have them stand on a chair while repeating the role-play activity. How does the class calculate distance _now_?

@ifproglang{wescheme}{
Have students open this new @link{https://www.wescheme.org/view?publicId=0bCivugY3P, game file} and investigate. +
}
@ifproglang{pyret}{
Have students run this new @link{https://code.pyret.org/editor#share=1y1eWn1YyDDqilj0MFqEpMy4egVh-G81W&v=882d33a, game file} and investigate. +
}
{empty} +

[.notice-box, cols="1", grid="none", stripes="none"]
|===
|
@span{.title}{Notice and Wonder}

What do you Notice? What do you Wonder?
|===

* What kind of triangles are these?
+
_Right triangles._
* What do the numbers represent?
+
_Let students discuss - the numbers should represent the lengths of the sides, but one side is always showing 0._
+
The missing length on the right triangle is the *hypotenuse*. The *legs* of the triangle show the length of each side, or the *distance* between those points on the number line. +
{empty} +

[.strategy-box, cols="1", grid="none", stripes="none"]
|===
|
@span{.title}{Extension}
@span{.right}{ @image{images/Pythag_anim.gif} }

You can take this activity further by having students prove the distance formula by solving for the @vocab{hypotenuse} of a right triangle. @link{https://www.cut-the-knot.org/pythagoras/, This page} from Cut the Knot includes a number of different proofs. Proof #4 is especially well-suited for students who may be uncomfortable with symbol manipulation, and need more of a geometric proof. The animation on the right is a demonstration of this proof.
@span{.clear}{}
|===

=== Investigate

Optional: Have students use this @exercise-link{pages/Distance-Multiple-Representations.pdf, Graphic Organizer} to model the distance formula with the Circles of Evaluation and translate it to code. +
{empty} +

[.lesson-instruction]
Using @workbook-link{pages/distance.adoc, Design Recipe: distance},
have students write a function that takes in two @vocab{coordinate} pairs (four numbers) of two characters (x1, y1) and (x2, y2) and returns the distance between those two points. +
{empty} +

Students can test their `distance` function using *Pythagorean triples*, such as (3, 4, 5) or (5, 12, 13), to make sure the function is calculating the distance correctly.

Finally, students fix the broken `distance` function in their game files. When they click "Run", the right triangles will appear with proper distances for the hypotenuse.

=== Common Misconceptions
It is _extremely common_ for students to put variables in the *wrong order*. In other words, their program looks like
@ifproglang{wescheme}{ `...(sqrt (+ (sqr (- x1 y1)) (sqr (- x2 y2))))...` 
instead of `...(sqrt (+ (sqr (- x2 x1)) (sqr (- y2 y1))))...` }
@ifproglang{pyret}{ `...num-sqrt(num-sqr(x1 - y1) + num-sqr(x2 - y2))...` 
instead of `...num-sqrt(num-sqr(x2 - x1) + num-sqr(y2 - y1))...` }

In this situation, remind student to look back at what they circled and labeled in the examples step. _This is why we label!_ 

=== Synthesize

== Additional Exercises:

@ifproglang{wescheme}{
- @link{https://teacher.desmos.com/activitybuilder/custom/5cdcb07bb4b8576069fdcef1, Bootstrap: Algebra - More Design Recipe Practice} (Desmos Activity)
}