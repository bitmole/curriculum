= Function Composition

@lesson-description{Students encounter new image transformation functions and strengthen their understanding of Circles of Evaluation by using functions within other functions.}

[.left-header, cols="20a, 80a", stripes=none]
|===
| Lesson Goals
| Students will be able to:

* Demonstrate understanding of the Order of Operations
* Use Circles of Evaluation to combine multiple functions, including non-Number producing functions

|Student-facing Goals
|
* I can use Circles of Evaluation to combine many kinds of functions.

|Key Points For The Facilitator
|
* Check frequently for understanding of @vocab{data types} and @vocab{contract}s during this lesson and throughout subsequent lessons.
* When students encounter errors, encourage them to check their Contracts page and show their work using Circles of Evaluation.
* Students will use their Contracts page frequently, so it should be kept in an accessible, convenient location.

|Prerequisites
|
* Students should be familiar with Circles of Evaluation.


|Materials
|
* Lesson slides template (@link{https://docs.google.com/presentation/d/1BvOHRghJtY7vKSc_Icirlt7bVolrMjxGf0r4NfRsR48/view, Google Slides})

ifeval::["{proglang}" == "wescheme"]
* Function Composition Exploration (@worksheet-link{workbook-pages/FunctionComposition-WB1.pdf, PDF}, @link{https://docs.google.com/document/d/1eqV4ZlZ4Kaz4v916vCMxq36wtIc-NrkJ3jBCVJopx-c/edit?usp=sharing, Google Doc})

* Function Composition Practice (@worksheet-link{workbook-pages/FunctionComposition-WB2.pdf, PDF}, @link{https://docs.google.com/document/d/1BRI6mFzdFCzsg-jwLuEfIoyRj_wk_gDFlWG2l8jfu-Q/edit?usp=sharing, Google Doc})
endif::[]

ifeval::["{proglang}" == "pyret"]
* Function Composition Exploration (@worksheet-link{workbook-pages/FunctionComposition-WB1.pdf, PDF}, @link{https://docs.google.com/document/d/1w5JW1jRRGqGhoZDfBkeKLGogpKRZ6bZXkmNhbjS-Ni8/edit?usp=sharing, Google Doc})

* Function Composition Practice (@worksheet-link{workbook-pages/FunctionComposition-WB2.pdf, PDF}, @link{https://docs.google.com/document/d/1BRI6mFzdFCzsg-jwLuEfIoyRj_wk_gDFlWG2l8jfu-Q/edit?usp=sharing, Google Doc})
endif::[]


Formative Assessments & Activities

* Circles of Evaluation Review - Blank Template (@link{https://teacher.desmos.com/activitybuilder/custom/5d991a674febfc7e0ff8cb15, Desmos Activity})

////
Connection Activities

* @link{https://www.geogebra.org/m/nqymeFc4, Function Composition Dynamic Illustrator I} (Geogebra)
* @link{https://www.geogebra.org/m/h3qdzW3W, Composition of Functions} (Geogebra Quiz)
* @link{https://quizizz.com/admin/quiz/58a61a2cf0b089151011ef50/composition-of-functions, Composite Functions} (Quizizz)
////

|===

[.left-header, cols="20a, 80a", stripes=none]
|===
|Building Towards (CCSSM)
|
* @std{8.G.A.1}

|Standards for Mathematical Practice (CCSSM)
|
* @std{MP.1}
* @std{MP.5}

|Bootstrap Benchmarks
|
* @std{BS-IDE}
|===


== Get Ready:
ifeval::["{proglang}" == "wescheme"] 
Students should be logged on to @link{https://www.wescheme.org, WeScheme}.
endif::[]
ifeval::["{proglang}" == "pyret"]
Students should be logged on to @link{https://code.pyret.org, code.pyret.org}.
endif::[]

== Launch: (5 mins)

[.text-center]
Which One Doesn't Belong?

@image{images/shape6.jpg, "Which One Doesn't Belong?, Matt Owen,
Curated by Mary Bourassa's https://wodb.ca", 400, align="center"}

//[.text-center]
//Source: Matt Owen, curated by Mary Bourassa's @link{https://wodb.ca/, Which One Doesn't Belong?}

Have students choose which image they feel doesn't belong and move together with other students who share their view. Take turns letting groups justify their reasons and discuss with other groups.

*Ask students: What theme do you see here?*  _(All of the shapes are cubes with some aspect of their appearance changed - angle, color, size, etc)_

== Explore: (10 mins)

Have students open to @worksheet-link{workbook-pages/FunctionComposition-WB1.pdf, Function Composition - Explore}.  Students create a text image of their name and experiment with their choice of these new functions.

While students are exploring, be available for support but encourage student discussion to solve problems.  Make sure students are using the Definitions window (left side) for code they want to keep and are using the Interactions window (right side) to test code or try out new ideas.

Many questions can be addressed with these responses:

* *Did you try drawing the Circle of Evaluation first?*
* *Did you check the contract?*
* *Have you pressed the Run button to save your Definitions changes?*


== Discuss: (10 mins)
* *What do all of these functions have in common?*
+
_They all produce images, they all change some element of the original image_
* *Does using one of these functions change the original image?*
+
_No, it creates a whole new image_
* *What does the number in ‘scale’ represent?*
+
_The scale factor, the percent by which the image should grow or shrink_
* *What does the number in ‘rotate’ represent?*
+
_The rotation angle, measured counterclockwise_
* *Suppose I wrote the code
ifeval::["{proglang}" == "wescheme"] 
`(scale 3 (star 50 “solid” “red”))`.
endif::[]
ifeval::["{proglang}" == "pyret"]
`scale(3, star(50, "solid", "red"))`.
endif::[]
  What’s another line of code I could write that would produce the exact same image?*
+
ifeval::["{proglang}" == "wescheme"] 
_``(star 150 "solid" "red")``_
endif::[]
ifeval::["{proglang}" == "pyret"]
_``star(150, "solid", "red")``_
endif::[]
* *The domain and range for `flip-horizontal` is Image -> Image.  Why can I use the text function as an input for `flip-horizontal`?*
+
_Because the `text` function produces an Image, which is then used as the input for `flip-horizontal`._

[.strategy-box]
.Strategies for English Language Learners
****
MLR 1 - Stronger and Clearer Each Time: As an alternative, display the discussion questions during the last 5 minutes of the Explore and ask students to discuss the questions with their partner, asking each other for explanation and details and coming up with the clearest, most precise answer they can.
Student pairs can then share with another pair and compare their responses before moving into a full class discussion.
****

== Practice: (10 mins)
Students complete @worksheet-link{workbook-pages/FunctionComposition-WB2.pdf, Function Composition - Practice}, practicing drawing Circles of Evaluation and writing code with their partner using different functions.

Student-facing Task:
Create the circles of evaluation and write the code for the following images.  Write a new line of code for each exercise.

* a solid, green `star` of size 50
* a solid, green `star` that’s 3 x’s as large as the original (using the `scale` function)
* a solid, green `star` that’s ½ the size of the original (using the `scale` function)
* a solid, green `star` of size 50 that’s rotated 45 degrees (using the `rotate` function)
* a solid, green `star` that’s 3x as large as the original and rotated 45 degrees.

When students are finished, check their work, and ask them to change the color of all of the stars to “gold” or another color of your choosing.


== Create/Apply: (15 mins)

Create an Image that uses the text function and at least 3 of following functions:

* `rotate`
* `scale`
* `overlay`
* `flip-horizontal`
* `flip-vertical`
* any other image producing function(`triangle`, `star`, `circle`, `rectangle`, etc..)

Students should practice writing *comments* in the code to describe what is being produced.
ifeval::["{proglang}" == "wescheme"] 
Use `;` at the beginning of a line to write a comment.
endif::[]
ifeval::["{proglang}" == "pyret"]
Use `#` at the beginning of a line to write a comment.
endif::[]



