= Composing Table Functions

You have the following functions defined below (read them _carefully!_):

  fun is-fixed(r): r["fixed"]                 end
  fun is-young(r): r["age"] < 4               end
  fun nametag(r):  text(r["name"], 20, "red") end

The table `t` below represents four animals from the shelter:

[cols='5',options="header"]
|===
| name        | sex       | age   | fixed   | pounds
| `"Toggle"`  | `"female"`| `3`   | `true`  | `48`
| `"Fritz"`   | `"male"`  | `4`   | `true`  | `92`
| `"Nori"`    | `"female"`| `6`   | `true`  | `35.3`
| `"Maple"`   | `"female"`| `3`   | `true`  | `51.6`

|===

_Match_ each Pyret expression (left) to the description of what it does (right).

[.FillVerticalSpace, cols=".^10a,^.^2a,3,^.^1a,.^8a",stripes="none",grid="none",frame="none"]
|===

|
----
sort(t, "age", true)
----
|*@n*@ifsoln{+(C)+} ||*A*
| Produces a table containing only Toggle and Maple

|
----
filter(t, is-fixed)
----
|*@n*@ifsoln{(F)} ||*B*
| Produces a table of only young, fixed animals

|
----
build-col(t, "sticker", nametag)
----
|*@n*@ifsoln{(D)} ||*C*
| Produces a table, sorted youngest-to-oldest

|
----
filter(t, is-young)
----
|*@n*@ifsoln{(A)} ||*D*
| Produces a table with an extra column, named "sticker"

|
----
filter(
  filter(t, is-young),
  is-fixed)
----
|*@n*@ifsoln{(B)} ||*E*
| Produces a table containing Maple and Toggle, in that order

|
----
sort(
  filter(t, is-young),
  "pounds",
  false)
----
|*@n*@ifsoln{(E)} ||*F*
| Produces a table containing the same four animals

|
----
sort(
  build-col(t, "label", nametag),
  "age",
  true)
----
|*@n*@ifsoln{(H)} ||*G*
| Wonâ€™t run: will produce an error

|
----
sort(t, "sx", false)
----
|*@n*@ifsoln{(G)} ||*H*
| Produces a table with an extra "label" column, sorted youngest-to-oldest

|===
